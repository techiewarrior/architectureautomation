name: Panorama on AWS
# label used for menu selection
label: Deploy Panorama on AWS

description: |
  Deploy Panorama with optional HA

# type of skillet (panos or panorama or template or terraform)
type: python3

# Labels allow grouping and type specific options and are generally only used in advanced cases
labels:
  collection:
    - Reference Architecture Skillet Modules

# variables define the things an operator may customize in this skillet. Things like DNS servers, NTP addresses, etc
# may be customized for each deployment. Each variable will be rendered as a form field in the panhandler application
variables:
  - name: AWS_ACCESS_KEY_ID
    description: ID
    default: 
    type_hint: hidden
  - name: AWS_SECRET_ACCESS_KEY
    description: Secret
    default:
    type_hint: hidden
  - name: deployment_name
    description: Prefix for deployment
    default: "reference achitecture"
    type_hint: hidden
  - name: vpc_cidr_block
    description: CIDR block for the Management VPC. Code supports a /16 mask through /29
    default: 10.255.0.0/16
    type_hint: 
  - name: specify_network
    description: Do you want to define the network you will access Panorama from manually?
    type_hint: dropdown
    dd_list:
      - key: 'No: auto-discover my IP address'
        value: 'auto'
      - key: 'Yes: define the network and mask manually'
        value: 'manual'
  - name: onprem_cidr_block
    description: The network and mask (ex:/24) you will access Panorama from
    tyoe_hint: text
    toggle_hint:
      source: specify_network
      value: 'manual' 
  - name: enable_ha
    description: High-availability deployment option
    type_hint: dropdown
    dd_list:
      - key: A single Panorama
        value: 'false'
      - key: A high-availability pair
        value: 'true'
  - name: Init
    description: Deploy or destroy the environment
    default: ip_address
    type_hint: dropdown
    dd_list:
      - key: 'Deploy'
        value: "apply"
      - key: 'Destroy'
        value: 'destroy'

snippets:
  - name: script
    file: deploy_panorama.py
    input_type: env



